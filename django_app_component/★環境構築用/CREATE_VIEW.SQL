CREATE VIEW V_TODO_HEADER AS 
SELECT
    TODO_HEADER_ID
    , TODO_HEADER_NAME
    , GENRE_NAME
    , TODO_HEADER_DATE
    , GENRE_VISIBLESTATUS
    , TODO_HEADER_VISIBLESTATUS 
FROM
    T_TODO_HEADER 
    INNER JOIN T_GENRE 
        ON T_GENRE.GENRE_ID = T_TODO_HEADER.GENRE_ID
ORDER BY TODO_HEADER_DATE DESC;

CREATE VIEW V_TODO_DETAIL AS
SELECT
    TODO_DETAIL_ID
    , T_GENRE.GENRE_NAME AS GENRE_NAME
    , SUBSTR(T_GENRE.GENRE_NAME,1,5) AS GENRE_SUBNAME
    , T_TODO_HEADER.TODO_HEADER_NAME AS TODO_HEADER_NAME
    , SUBSTR(T_TODO_HEADER.TODO_HEADER_NAME, 1, 9) AS TODO_HEADER_SUBNAME
    , T_TODO_DETAIL.TODO_DETAIL_NAME
    , T_PRIOR.PRIOR_ID
    , T_PRIOR.PRIOR_NAME
    , T_PRIOR.PRIOR_SUBNAME
    , T_TODO_DETAIL.TODO_DETAIL_STARTDATE
    , T_TODO_DETAIL.TODO_DETAIL_ENDDATE
    , T_GENRE.GENRE_VISIBLESTATUS
    , T_PRIOR.PRIOR_VISIBLESTATUS
    , T_TODO_HEADER.TODO_HEADER_VISIBLESTATUS
    , T_TODO_DETAIL.TODO_DETAIL_VISIBLESTATUS 
FROM
    T_TODO_DETAIL 
    INNER JOIN T_TODO_HEADER 
        ON T_TODO_HEADER.TODO_HEADER_ID = T_TODO_DETAIL.TODO_HEADER_ID 
    INNER JOIN T_GENRE 
        ON T_GENRE.GENRE_ID = T_TODO_HEADER.GENRE_ID 
    INNER JOIN T_PRIOR 
        ON T_PRIOR.PRIOR_ID = T_TODO_DETAIL.PRIOR_ID
ORDER BY T_TODO_DETAIL.TODO_DETAIL_ENDDATE,T_PRIOR.PRIOR_ID DESC;

CREATE VIEW V_MEMO AS 
SELECT
    T_MEMO.MEMO_ID
    , T_TODO_HEADER.TODO_HEADER_NAME AS TODO_HEADER_NAME
    , SUBSTR(T_TODO_HEADER.TODO_HEADER_NAME, 1, 7) AS TODO_HEADER_SUBNAME
    , T_TODO_DETAIL.TODO_DETAIL_NAME
    , T_MEMO.MEMO_NOTE
    , T_MEMO.MEMO_DATE
    , T_MEMO.MEMO_VISIBLESTATUS
    , T_TODO_DETAIL.TODO_DETAIL_VISIBLESTATUS
    , T_TODO_HEADER.TODO_HEADER_VISIBLESTATUS 
FROM
    T_MEMO 
    INNER JOIN T_TODO_DETAIL 
        ON T_MEMO.TODO_DETAIL_ID = T_TODO_DETAIL.TODO_DETAIL_ID 
    INNER JOIN T_TODO_HEADER 
        ON T_TODO_DETAIL.TODO_HEADER_ID = T_TODO_HEADER.TODO_HEADER_ID 
ORDER BY
    T_MEMO.MEMO_DATE DESC